<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="org.spring.project.mappers.Mem_Clip_Mapper">

	<insert id="insertMemClip" parameterType="Etp_Mem_ClipDTO">
		insert into mem_clip(mem_clip_no, etp_no, resume_no, mem_clip_title, eval_memo, mem_clip_date)
		VALUES(seq_mem_clip.nextval, #{etp_no}, #{resume_no}, #{mem_clip_title}, #{eval_memo}, sysdate)
	</insert>

	<select id="mem_clip_list" resultType="Etp_Mem_ClipVO">
		select *
		from mem_clip
	</select>
	
	<select id="mem_resume_read" resultType="Mem_Resume_ClipDTO" parameterType="int">
		select c.responibility_field,c.work_month,c.work_rank,c.career_field,c.career_etp_name,c.retire_date,c.join_date,c.important_ability,r.RESUME_IMG,r.self_intro_cont,r.volun_field,r.resume_title,a.enter_date,a.graduation_date,a.school_name,a.major_1,a.grade,r.member_no,r.hope_income,r.resume_no
		from resume r, ac_ability a, career c
		where r.resume_no = a.resume_no
		and r.resume_no = c.resume_no
		and a.resume_no = c.resume_no
		and r.resume_no = #{resume_no}
	</select>

	<update id="mem_eval_memo_update" parameterType="Etp_Mem_ClipDTO">
		update mem_clip set eval_memo =#{eval_memo} 
		where mem_clip_no = #{mem_clip_no}
	</update>	

	<insert id="alarm_insert" parameterType="AlarmDTO">
		insert into notice_center(notice_no,notice_type,notice_name,notice_date,notice_time,notice_check,member_no,mem_submit_no,exam_question_no,smart_match_no) 
		values(#{notice_no},#{notice_type},#{notice_name},sysdate,#{notice_time},#{notice_check},#{member_no},#{mem_submit_no},#{exam_question_no},#{smart_match_no})
	</insert>


	<!-- <insert id="mem_clip_create" parameterType="Mem_ClipVO">
		insert into
		recruit_clip(
		recruit_clip_no, recruit_clip_date, recruit_no, member_no
		)
		values(
		recruit_clip_seq.nextval, SYSDATE, #{recruit_no}, #{member_no}
		)
	</insert> -->
	
	 
	
	<!--  <select id="mem_Clip_Count" resultType="int">
		select count(*) from
		recruit_clip where recruit_no=#{recruit_no}
	</select>  -->

</mapper>  

 